"use strict";(self.webpackChunkvitality=self.webpackChunkvitality||[]).push([[523],{6768:function(e,t,n){n(2791);var r=n(4270),i=n(184);t.Z=function(e){var t=e.title,n=e.description,a=e.children;return(0,i.jsxs)("div",{children:[(0,i.jsxs)(r.q,{children:[(0,i.jsx)("title",{children:t}),(0,i.jsx)("meta",{name:"description",content:n})]}),a]})}},9637:function(e,t,n){n(2791);var r=n(7621),i=n(9504),a=n(890),s=n(3767),o=n(4554),c=n(184);t.Z=function(e){var t=e.title,n=e.subtitle,l=e.children,d=e.action,u=e.footer,h=e.cardheading,p=e.headtitle,x=e.headsubtitle,g=e.middlecontent;return(0,c.jsxs)(r.Z,{sx:{padding:0},elevation:9,variant:void 0,children:[h?(0,c.jsxs)(i.Z,{children:[(0,c.jsx)(a.Z,{variant:"h5",children:p}),(0,c.jsx)(a.Z,{variant:"subtitle2",color:"textSecondary",children:x})]}):(0,c.jsxs)(i.Z,{sx:{p:"30px"},children:[t?(0,c.jsxs)(s.Z,{direction:"row",spacing:2,justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,c.jsxs)(o.Z,{children:[t?(0,c.jsx)(a.Z,{variant:"h5",children:t}):"",n?(0,c.jsx)(a.Z,{variant:"subtitle2",color:"textSecondary",children:n}):""]}),d]}):null,l]}),g,u]})}},6457:function(e,t,n){var r=n(4165),i=n(5861),a=n(5671),s=n(3144),o=n(1243),c=function(){function e(){(0,a.Z)(this,e)}return(0,s.Z)(e,[{key:"login",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.Z.post("".concat("http://ec2-3-106-126-123.ap-southeast-2.compute.amazonaws.com:3005/")+"auth/login",{username:t,password:n}).then((function(e){return e.data.token&&localStorage.setItem("user",JSON.stringify(e.data)),e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n,i){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.Z.post("http://ec2-3-106-126-123.ap-southeast-2.compute.amazonaws.com:3005/auth/register",{username:t,email:n,password:i}).then((function(e){return e.data.token&&localStorage.setItem("user",JSON.stringify(e.data)),e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}();t.Z=new c},523:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var r=n(2791),i=n(4554),a=n(1889),s=n(6768),o=n(3433),c=n(9439),l=n(8478),d=n(7865),u=n(3967),h=n(9637),p=n(3496),x=n(4123),g=JSON.parse(localStorage.getItem("user")),Z=g.token,f=x.ZP.connect("http://ec2-3-106-126-123.ap-southeast-2.compute.amazonaws.com:3005/",{auth:{token:Z}});f.emit("join",g.user._id);var m=n(9658),j=n(7317),v=n(6457),y=n(184),b=function(){var e=(0,r.useState)("1"),t=(0,c.Z)(e,2),n=t[0],i=t[1],a=(0,r.useState)([]),s=(0,c.Z)(a,2),x=s[0],g=s[1],Z=(0,r.useState)([97,90,101,95,92,97,94]),b=(0,c.Z)(Z,2),w=b[0],S=b[1],k=(0,r.useState)([]),P=(0,c.Z)(k,2),C=P[0],I=P[1],A=(v.Z.getCurrentUser(),(0,u.Z)()),z=(A.palette.primary.main,A.palette.secondary.main,{scales:{x:{type:"category",categories:C.slice(-15),labels:{show:!0,formatter:function(e,t,n){return new Date(e).toLocaleTimeString()}},tickAmount:8,grid:{display:!1}},y:{ticks:{beginAtZero:!0,stepSize:10}}},plugins:{legend:{display:!1}},stroke:{show:!0,curve:"smooth",lineCap:"butt",colors:void 0,width:4,dashArray:0}}),F=[{name:"Data monitored",data:w}];return(0,r.useEffect)((function(){f.on("temp_receiver",(function(e){var t=e.value,n=(new Date).toLocaleTimeString();I((function(e){return[].concat((0,o.Z)(e.slice(-15)),[n])})),S((function(e){return[].concat((0,o.Z)(e.slice(-15)),[t])})),t>99&&g((function(e){return[].concat((0,o.Z)(e),[t])})),t<99&&g([])}))}),[]),(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(h.Z,{title:"Temperature readings",action:(0,y.jsxs)(l.Z,{labelId:"month-dd",id:"month-dd",value:n,size:"small",onChange:function(e){i(e.target.value)},children:[(0,y.jsx)(d.Z,{value:1,children:"May 2023"}),(0,y.jsx)(d.Z,{value:2,children:"April 2023"}),(0,y.jsx)(d.Z,{value:3,children:"March 2023"})]}),children:[(0,y.jsx)(p.Z,{options:z,series:F,type:"line",height:"370px"}),x.length>=3&&(0,y.jsxs)(m.Z,{severity:"warning",children:[(0,y.jsx)(j.Z,{children:"Warning"}),"Temperature trend raising above 99 \u2014 ",(0,y.jsx)("strong",{children:"about to alert gaurdian."})]})]})})},w=n(890),S=n(3767),k=n(3044),P=n(5925),C=function(){var e=(0,r.useState)([]),t=(0,c.Z)(e,2),n=t[0],i=t[1],s=(0,r.useState)([98,2]),l=(0,c.Z)(s,2),d=l[0],x=l[1],g=(0,u.Z)(),Z=g.palette.primary.main,v="#ecf2ff",b=g.palette.success.light,C={chart:{type:"donut",fontFamily:"'Plus Jakarta Sans', sans-serif;",foreColor:"#adb0bb",toolbar:{show:!1},height:155},colors:[Z,v,"#F9F9FD"],plotOptions:{pie:{startAngle:0,endAngle:360,donut:{size:"75%",background:"transparent"}}},tooltip:{theme:"dark"===g.palette.mode?"dark":"light",fillSeriesColor:!1},stroke:{show:!1},dataLabels:{enabled:!1},legend:{show:!1},responsive:[{breakpoint:991,options:{chart:{width:120}}}]};return(0,r.useEffect)((function(){f.on("spo2_receiver",(function(e){var t=e.value;x([t-0,100-t]),t<95&&i((function(e){return[].concat((0,o.Z)(e),[t])})),t>95&&i([])}))}),[n]),(0,y.jsxs)(h.Z,{title:"SpO2 Percentage",children:[(0,y.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,y.jsxs)(a.ZP,{item:!0,xs:7,sm:7,children:[(0,y.jsxs)(w.Z,{variant:"h3",fontWeight:"700",children:[d[0]," %"]}),(0,y.jsxs)(S.Z,{direction:"row",spacing:1,mt:2,alignItems:"center",children:[(0,y.jsx)(k.Z,{sx:{bgcolor:b,width:27,height:27},children:(0,y.jsx)(P.SyR,{width:20,color:"#39B69A"})}),(0,y.jsx)(w.Z,{variant:"subtitle2",fontWeight:"600",children:"+1%"}),(0,y.jsx)(w.Z,{variant:"subtitle2",color:"textSecondary",children:"last month"})]}),(0,y.jsxs)(S.Z,{spacing:3,mt:5,direction:"row",children:[(0,y.jsxs)(S.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,y.jsx)(k.Z,{sx:{width:9,height:9,bgcolor:Z,svg:{display:"none"}}}),(0,y.jsx)(w.Z,{variant:"subtitle2",color:"textSecondary",children:"Current"})]}),(0,y.jsxs)(S.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,y.jsx)(k.Z,{sx:{width:9,height:9,bgcolor:v,svg:{display:"none"}}}),(0,y.jsx)(w.Z,{variant:"subtitle2",color:"textSecondary",children:"Lost"})]})]})]}),(0,y.jsx)(a.ZP,{item:!0,xs:5,sm:5,children:(0,y.jsx)(p.Z,{options:C,series:d,type:"donut",height:"150px"})})]}),n.length>=3&&(0,y.jsxs)(m.Z,{severity:"warning",children:[(0,y.jsx)(j.Z,{children:"Warning"}),"Temperature trend raising above 99 \u2014 ",(0,y.jsx)("strong",{children:"about to alert gaurdian."})]})]})},I=n(1413),A=n(9877),z=function(){var e=(0,r.useState)([]),t=(0,c.Z)(e,2),n=(t[0],t[1],(0,r.useState)(72)),i=(0,c.Z)(n,2),a=i[0],s=(i[1],(0,u.Z)()),o=s.palette.secondary.main,l=(0,r.useState)([{name:"",color:o,data:[25,66,20,40,12,58,20]}]),d=(0,c.Z)(l,2),x=d[0],g=d[1],Z={chart:{type:"area",fontFamily:"'Plus Jakarta Sans', sans-serif;",foreColor:"#adb0bb",toolbar:{show:!1},height:60,sparkline:{enabled:!0},group:"sparklines"},stroke:{curve:"smooth",width:2},fill:{colors:["#f5fcff"],type:"solid",opacity:.05},markers:{size:0},tooltip:{theme:"dark"===s.palette.mode?"dark":"light"}};return(0,r.useEffect)((function(){f.on("pulse_receiver",(function(e){var t=e.value;g((function(e){var n=e[0].data.concat(t).slice(-10);return[(0,I.Z)((0,I.Z)({},e[0]),{},{data:n})]}))}))}),[]),(0,y.jsx)(h.Z,{title:"Pulse rate",action:(0,y.jsx)(A.Z,{color:"secondary",size:"medium",sx:{color:"#ffffff"},children:(0,y.jsx)(P.AUh,{width:24})}),footer:(0,y.jsx)(p.Z,{options:Z,series:x,type:"area",height:"60px"}),children:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(w.Z,{variant:"h3",fontWeight:"700",mt:"-20px",children:a}),(0,y.jsxs)(S.Z,{direction:"row",spacing:1,my:1,alignItems:"center",children:[(0,y.jsx)(k.Z,{sx:{bgcolor:"#fdede8",width:27,height:27},children:(0,y.jsx)(P.HiG,{width:20,color:"#FA896B"})}),(0,y.jsx)(w.Z,{variant:"subtitle2",fontWeight:"600",children:"-12%"}),(0,y.jsx)(w.Z,{variant:"subtitle2",color:"textSecondary",children:"last month"})]})]})})},F=function(){return(0,y.jsx)(s.Z,{title:"Dashboard",description:"this is Dashboard",children:(0,y.jsx)(i.Z,{children:(0,y.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,y.jsx)(a.ZP,{item:!0,xs:12,lg:8,children:(0,y.jsx)(b,{})}),(0,y.jsx)(a.ZP,{item:!0,xs:12,lg:4,children:(0,y.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,y.jsx)(a.ZP,{item:!0,xs:12,children:(0,y.jsx)(C,{})}),(0,y.jsx)(a.ZP,{item:!0,xs:12,children:(0,y.jsx)(z,{})})]})})]})})})}}}]);
//# sourceMappingURL=523.1acf9f1f.chunk.js.map